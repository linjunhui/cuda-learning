# CUDA编程训练题目集

## 学习目标
通过实践题目巩固CUDA编程知识，从基础概念到高级应用逐步提升。

## 题目分类

### 第1周：GPU架构基础与Hello CUDA

#### 题目1：第一个CUDA程序
**难度**：★☆☆☆☆

编写你的第一个CUDA程序：
1. 在GPU上打印"Hello CUDA World!"
2. 显示当前线程的ID
3. 显示当前线程块的ID
4. 显示当前网格的ID

**要求**：
- 使用 `__global__` 关键字定义内核函数
- 使用 `threadIdx.x`、`blockIdx.x`、`blockDim.x` 等内置变量
- 在内核函数中使用 `printf` 输出信息
- 使用 `cudaDeviceSynchronize()` 等待GPU完成

**知识点**：
- CUDA程序基本结构
- 内核函数定义和调用
- 线程索引概念
- 主机-设备交互

#### 题目2：线程索引计算
**难度**：★★☆☆☆

编写程序计算并显示线程的全局索引：
1. 创建一个包含1000个线程的网格
2. 每个线程块包含256个线程
3. 计算每个线程的全局索引
4. 验证索引计算的正确性

**要求**：
- 使用公式：`globalIdx = blockIdx.x * blockDim.x + threadIdx.x`
- 只让前10个线程打印其索引信息
- 验证索引是否连续且不重复

**知识点**：
- 线程索引计算
- 网格和线程块配置
- 条件执行

#### 题目3：GPU信息查询
**难度**：★★☆☆☆

编写程序查询并显示GPU设备信息：
1. 查询GPU设备数量
2. 显示每个GPU的基本信息
3. 显示GPU的计算能力
4. 显示GPU的内存信息

**要求**：
- 使用 `cudaGetDeviceCount()` 查询设备数量
- 使用 `cudaGetDeviceProperties()` 获取设备属性
- 显示设备名称、计算能力、内存大小等信息

**知识点**：
- CUDA设备管理
- 设备属性查询
- GPU硬件信息

### 第2周：CUDA编程模型与向量运算

#### 题目4：向量加法
**难度**：★★☆☆☆

实现GPU并行向量加法：
1. 创建两个长度为10000的向量
2. 在GPU上计算向量加法
3. 比较CPU和GPU的执行时间
4. 验证结果的正确性

**要求**：
- 使用 `cudaMalloc()` 分配设备内存
- 使用 `cudaMemcpy()` 传输数据
- 实现向量加法内核函数
- 测量并比较性能

**知识点**：
- 内存分配和释放
- 数据传输
- 内核函数实现
- 性能测量

#### 题目5：向量点积
**难度**：★★★☆☆

实现GPU并行向量点积计算：
1. 计算两个向量的点积
2. 使用归约算法优化计算
3. 处理不同大小的向量
4. 比较不同实现方法的性能

**要求**：
- 实现简单的点积计算
- 使用共享内存优化归约
- 处理向量长度不是线程块大小倍数的情况
- 验证计算精度

**知识点**：
- 归约算法
- 共享内存使用
- 线程同步
- 数值精度

#### 题目6：向量最大值查找
**难度**：★★★☆☆

实现GPU并行查找向量中的最大值：
1. 在GPU上查找向量的最大值
2. 使用归约算法优化查找过程
3. 同时返回最大值和其索引
4. 处理边界情况

**要求**：
- 实现最大值查找内核函数
- 使用共享内存进行归约
- 处理空向量和单元素向量
- 验证结果的正确性

**知识点**：
- 归约算法应用
- 条件执行
- 共享内存优化
- 边界处理

### 第3周：CUDA内存模型与矩阵运算

#### 题目7：矩阵加法
**难度**：★★☆☆☆

实现GPU并行矩阵加法：
1. 创建两个M×N的矩阵
2. 在GPU上计算矩阵加法
3. 使用2D线程索引
4. 处理不同大小的矩阵

**要求**：
- 使用2D网格和线程块配置
- 计算2D线程索引
- 处理矩阵边界
- 验证结果正确性

**知识点**：
- 2D线程索引
- 矩阵操作
- 边界检查
- 内存访问模式

#### 题目8：矩阵转置
**难度**：★★★☆☆

实现GPU并行矩阵转置：
1. 实现矩阵转置操作
2. 使用共享内存优化访问
3. 处理非方阵情况
4. 比较不同实现方法的性能

**要求**：
- 实现基本的矩阵转置
- 使用共享内存减少全局内存访问
- 处理内存合并访问
- 验证转置的正确性

**知识点**：
- 共享内存使用
- 内存访问优化
- 矩阵转置算法
- 性能优化

#### 题目9：矩阵乘法（基础版）
**难度**：★★★☆☆

实现GPU并行矩阵乘法：
1. 实现基本的矩阵乘法
2. 使用2D线程配置
3. 处理不同大小的矩阵
4. 验证计算精度

**要求**：
- 实现矩阵乘法内核函数
- 使用2D线程索引
- 处理矩阵维度不匹配的情况
- 验证计算结果的正确性

**知识点**：
- 矩阵乘法算法
- 2D线程配置
- 数值计算
- 精度验证

### 第4周：高级CUDA语法与优化

#### 题目10：矩阵乘法（优化版）
**难度**：★★★★☆

实现优化的GPU矩阵乘法：
1. 使用共享内存优化矩阵乘法
2. 实现分块矩阵乘法
3. 优化内存访问模式
4. 比较不同优化策略的性能

**要求**：
- 使用共享内存缓存数据
- 实现分块算法
- 优化内存合并访问
- 测量性能提升

**知识点**：
- 共享内存优化
- 分块算法
- 内存访问模式
- 性能调优

#### 题目11：CUDA流和异步执行
**难度**：★★★★☆

实现CUDA流和异步执行：
1. 创建多个CUDA流
2. 实现异步数据传输
3. 实现异步内核执行
4. 测量异步执行的性能提升

**要求**：
- 使用 `cudaStreamCreate()` 创建流
- 实现异步内存传输
- 实现异步内核启动
- 使用 `cudaStreamSynchronize()` 同步

**知识点**：
- CUDA流概念
- 异步执行
- 数据传输优化
- 并发执行

#### 题目12：错误处理和调试
**难度**：★★★☆☆

实现CUDA错误处理机制：
1. 添加完整的错误检查
2. 实现错误处理函数
3. 使用调试工具
4. 处理常见错误情况

**要求**：
- 使用 `cudaGetLastError()` 检查错误
- 实现错误处理宏
- 添加详细的错误信息
- 处理内存分配失败等错误

**知识点**：
- 错误处理机制
- 调试技巧
- 常见错误类型
- 错误恢复策略

## 综合项目

### 项目1：图像处理应用
**难度**：★★★★☆

实现GPU图像处理应用：
1. 图像灰度化
2. 图像模糊处理
3. 图像边缘检测
4. 性能优化

**要求**：
- 使用CUDA处理图像数据
- 实现多种图像处理算法
- 优化内存访问模式
- 比较CPU和GPU性能

### 项目2：数值计算库
**难度**：★★★★★

实现GPU数值计算库：
1. 向量运算函数
2. 矩阵运算函数
3. 统计计算函数
4. 性能测试和优化

**要求**：
- 设计通用的GPU计算接口
- 实现多种数值计算函数
- 提供性能测试工具
- 优化计算性能

## 学习建议

### 每日练习计划
- **工作日**：完成1-2个基础题目
- **周末**：完成1个综合项目或高级题目

### 学习重点
1. **理解概念**：深入理解CUDA编程模型
2. **实践编程**：多写代码，多调试
3. **性能分析**：学会使用性能分析工具
4. **错误处理**：养成良好的错误处理习惯

### 调试技巧
1. 使用 `printf` 在内核函数中输出调试信息
2. 使用 `cuda-gdb` 进行调试
3. 使用 `nsight compute` 分析性能
4. 逐步验证程序的正确性

## 评估标准

### 基础题目（1-6题）
- 程序能够正确编译和运行
- 结果正确性验证通过
- 代码结构清晰，注释完整

### 中级题目（7-9题）
- 实现基本功能
- 处理边界情况
- 性能达到预期

### 高级题目（10-12题）
- 实现优化算法
- 性能显著提升
- 代码质量高

### 综合项目
- 功能完整实现
- 性能优化到位
- 代码架构合理

---

**开始时间**：2024-01-15  
**预计完成时间**：2024-02-15  
**总题目数**：12个基础题目 + 2个综合项目
