# 第1周：C++核心语法 - 训练题目

## 学习目标
通过实践练习掌握C++基本语法和特性，包括现代C++特性、变量类型、控制流、函数和类的基础知识。

## 每日训练题目

### 第1天：现代C++特性

#### 题目1：auto关键字和类型推导
**难度**：★☆☆☆☆

编写程序实现以下功能：
1. 使用auto关键字声明不同类型的变量
2. 使用auto推导函数返回类型
3. 使用decltype推导表达式类型

**要求**：
```cpp
// 实现以下函数
auto add(int a, int b) -> decltype(a + b);
auto multiply(double a, double b) -> decltype(a * b);
auto getString() -> decltype(std::string("hello"));

// 在main函数中测试
int main() {
    // 使用auto声明变量
    auto x = 42;
    auto y = 3.14;
    auto z = "hello";
    
    // 测试函数
    auto result1 = add(10, 20);
    auto result2 = multiply(2.5, 3.0);
    auto result3 = getString();
    
    // 输出结果
    std::cout << "x: " << x << ", type: " << typeid(x).name() << std::endl;
    std::cout << "y: " << y << ", type: " << typeid(y).name() << std::endl;
    std::cout << "z: " << z << ", type: " << typeid(z).name() << std::endl;
    
    return 0;
}
```

#### 题目2：范围for循环
**难度**：★☆☆☆☆

编写程序使用范围for循环完成以下任务：
1. 遍历数组并计算总和
2. 遍历字符串并统计字符
3. 遍历容器并查找特定元素

**要求**：
```cpp
#include <vector>
#include <string>
#include <map>
#include <iostream>

int main() {
    // 1. 数组遍历
    int arr[] = {1, 2, 3, 4, 5};
    int sum = 0;
    for (const auto& element : arr) {
        sum += element;
    }
    std::cout << "Sum: " << sum << std::endl;
    
    // 2. 字符串遍历
    std::string str = "Hello World";
    int vowelCount = 0;
    for (const auto& ch : str) {
        if (ch == 'a' || ch == 'e' || ch == 'i' || ch == 'o' || ch == 'u' ||
            ch == 'A' || ch == 'E' || ch == 'I' || ch == 'O' || ch == 'U') {
            vowelCount++;
        }
    }
    std::cout << "Vowel count: " << vowelCount << std::endl;
    
    // 3. 容器遍历
    std::vector<int> vec = {10, 20, 30, 40, 50};
    for (const auto& element : vec) {
        std::cout << element << " ";
    }
    std::cout << std::endl;
    
    return 0;
}
```

#### 题目3：lambda表达式
**难度**：★★☆☆☆

编写程序使用lambda表达式实现以下功能：
1. 计算平方
2. 判断奇偶性
3. 字符串比较

**要求**：
```cpp
#include <vector>
#include <algorithm>
#include <iostream>

int main() {
    std::vector<int> numbers = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
    
    // 1. 使用lambda计算平方
    auto square = [](int x) { return x * x; };
    std::cout << "Square of 5: " << square(5) << std::endl;
    
    // 2. 使用lambda判断奇偶性
    auto isEven = [](int x) { return x % 2 == 0; };
    auto isOdd = [](int x) { return x % 2 != 0; };
    
    // 3. 使用lambda与STL算法
    std::vector<int> squares;
    std::transform(numbers.begin(), numbers.end(), std::back_inserter(squares),
                   [](int x) { return x * x; });
    
    // 4. 使用lambda过滤偶数
    std::vector<int> evens;
    std::copy_if(numbers.begin(), numbers.end(), std::back_inserter(evens),
                 [](int x) { return x % 2 == 0; });
    
    // 输出结果
    std::cout << "Squares: ";
    for (const auto& element : squares) {
        std::cout << element << " ";
    }
    std::cout << std::endl;
    
    std::cout << "Evens: ";
    for (const auto& element : evens) {
        std::cout << element << " ";
    }
    std::cout << std::endl;
    
    return 0;
}
```

### 第2天：数据类型和变量

#### 题目4：基本数据类型操作
**难度**：★☆☆☆☆

编写程序演示基本数据类型的使用：
1. 整数类型运算
2. 浮点类型运算
3. 字符类型操作
4. 布尔类型逻辑运算

**要求**：
```cpp
#include <iostream>
#include <limits>

int main() {
    // 1. 整数类型
    int a = 42;
    long b = 1000000L;
    long long c = 10000000000LL;
    
    std::cout << "int: " << a << std::endl;
    std::cout << "long: " << b << std::endl;
    std::cout << "long long: " << c << std::endl;
    
    // 2. 浮点类型
    float f = 3.14f;
    double d = 3.14159265359;
    long double ld = 3.141592653589793238L;
    
    std::cout << "float: " << f << std::endl;
    std::cout << "double: " << d << std::endl;
    std::cout << "long double: " << ld << std::endl;
    
    // 3. 字符类型
    char ch = 'A';
    wchar_t wch = L'中';
    
    std::cout << "char: " << ch << std::endl;
    std::wcout << "wchar_t: " << wch << std::endl;
    
    // 4. 布尔类型
    bool flag1 = true;
    bool flag2 = false;
    bool result = flag1 && flag2;
    
    std::cout << "flag1: " << flag1 << std::endl;
    std::cout << "flag2: " << flag2 << std::endl;
    std::cout << "result: " << result << std::endl;
    
    return 0;
}
```

#### 题目5：const和constexpr
**难度**：★★☆☆☆

编写程序演示const和constexpr的使用：
1. const变量和函数
2. constexpr编译时常量
3. constexpr函数

**要求**：
```cpp
#include <iostream>

// constexpr函数
constexpr int factorial(int n) {
    return (n <= 1) ? 1 : n * factorial(n - 1);
}

constexpr double circleArea(double radius) {
    constexpr double pi = 3.14159265359;
    return pi * radius * radius;
}

int main() {
    // const变量
    const int MAX_SIZE = 100;
    const std::string APP_NAME = "MyApp";
    
    // constexpr变量
    constexpr int fact_5 = factorial(5);
    constexpr double area = circleArea(5.0);
    
    std::cout << "MAX_SIZE: " << MAX_SIZE << std::endl;
    std::cout << "APP_NAME: " << APP_NAME << std::endl;
    std::cout << "Factorial of 5: " << fact_5 << std::endl;
    std::cout << "Circle area (r=5): " << area << std::endl;
    
    // 运行时计算
    int n;
    std::cout << "Enter a number: ";
    std::cin >> n;
    
    int runtimeFact = factorial(n);
    std::cout << "Factorial of " << n << ": " << runtimeFact << std::endl;
    
    return 0;
}
```

### 第3天：控制流语句

#### 题目6：条件语句练习
**难度**：★☆☆☆☆

编写程序实现以下功能：
1. 成绩等级判断
2. 月份天数计算
3. 三角形类型判断

**要求**：
```cpp
#include <iostream>
#include <string>

std::string getGrade(int score) {
    if (score >= 90) {
        return "A";
    } else if (score >= 80) {
        return "B";
    } else if (score >= 70) {
        return "C";
    } else if (score >= 60) {
        return "D";
    } else {
        return "F";
    }
}

int getDaysInMonth(int month, int year) {
    switch (month) {
        case 1: case 3: case 5: case 7: case 8: case 10: case 12:
            return 31;
        case 4: case 6: case 9: case 11:
            return 30;
        case 2:
            // 判断闰年
            if ((year % 4 == 0 && year % 100 != 0) || (year % 400 == 0)) {
                return 29;
            } else {
                return 28;
            }
        default:
            return -1; // 无效月份
    }
}

std::string getTriangleType(double a, double b, double c) {
    if (a + b <= c || a + c <= b || b + c <= a) {
        return "Not a triangle";
    } else if (a == b && b == c) {
        return "Equilateral";
    } else if (a == b || b == c || a == c) {
        return "Isosceles";
    } else {
        return "Scalene";
    }
}

int main() {
    // 测试成绩等级
    int scores[] = {95, 85, 75, 65, 55};
    for (int score : scores) {
        std::cout << "Score " << score << ": Grade " << getGrade(score) << std::endl;
    }
    
    // 测试月份天数
    std::cout << "Days in February 2024: " << getDaysInMonth(2, 2024) << std::endl;
    std::cout << "Days in February 2023: " << getDaysInMonth(2, 2023) << std::endl;
    
    // 测试三角形类型
    std::cout << "Triangle (3,3,3): " << getTriangleType(3, 3, 3) << std::endl;
    std::cout << "Triangle (3,3,4): " << getTriangleType(3, 3, 4) << std::endl;
    std::cout << "Triangle (3,4,5): " << getTriangleType(3, 4, 5) << std::endl;
    
    return 0;
}
```

#### 题目7：循环语句练习
**难度**：★★☆☆☆

编写程序实现以下功能：
1. 打印乘法表
2. 计算阶乘
3. 斐波那契数列
4. 素数判断

**要求**：
```cpp
#include <iostream>
#include <vector>

void printMultiplicationTable(int n) {
    std::cout << "Multiplication table up to " << n << ":" << std::endl;
    for (int i = 1; i <= n; ++i) {
        for (int j = 1; j <= i; ++j) {
            std::cout << j << "x" << i << "=" << i*j << "\t";
        }
        std::cout << std::endl;
    }
}

long long factorial(int n) {
    long long result = 1;
    for (int i = 2; i <= n; ++i) {
        result *= i;
    }
    return result;
}

std::vector<int> fibonacci(int n) {
    std::vector<int> fib;
    if (n >= 1) fib.push_back(1);
    if (n >= 2) fib.push_back(1);
    
    for (int i = 2; i < n; ++i) {
        fib.push_back(fib[i-1] + fib[i-2]);
    }
    return fib;
}

bool isPrime(int n) {
    if (n <= 1) return false;
    if (n <= 3) return true;
    if (n % 2 == 0 || n % 3 == 0) return false;
    
    for (int i = 5; i * i <= n; i += 6) {
        if (n % i == 0 || n % (i + 2) == 0) {
            return false;
        }
    }
    return true;
}

int main() {
    // 打印乘法表
    printMultiplicationTable(9);
    
    // 计算阶乘
    std::cout << "Factorial of 10: " << factorial(10) << std::endl;
    
    // 斐波那契数列
    auto fib = fibonacci(15);
    std::cout << "Fibonacci sequence (first 15): ";
    for (int num : fib) {
        std::cout << num << " ";
    }
    std::cout << std::endl;
    
    // 素数判断
    std::cout << "Prime numbers up to 50: ";
    for (int i = 2; i <= 50; ++i) {
        if (isPrime(i)) {
            std::cout << i << " ";
        }
    }
    std::cout << std::endl;
    
    return 0;
}
```

### 第4天：函数基础

#### 题目8：函数重载练习
**难度**：★★☆☆☆

编写程序实现函数重载：
1. 不同参数类型的add函数
2. 不同参数个数的max函数
3. 不同参数类型的print函数

**要求**：
```cpp
#include <iostream>
#include <string>

// 函数重载：不同参数类型
int add(int a, int b) {
    return a + b;
}

double add(double a, double b) {
    return a + b;
}

std::string add(const std::string& a, const std::string& b) {
    return a + b;
}

// 函数重载：不同参数个数
int max(int a, int b) {
    return (a > b) ? a : b;
}

int max(int a, int b, int c) {
    return max(max(a, b), c);
}

int max(int a, int b, int c, int d) {
    return max(max(a, b), max(c, d));
}

// 函数重载：不同参数类型
void print(int value) {
    std::cout << "Integer: " << value << std::endl;
}

void print(double value) {
    std::cout << "Double: " << value << std::endl;
}

void print(const std::string& value) {
    std::cout << "String: " << value << std::endl;
}

void print(char value) {
    std::cout << "Character: " << value << std::endl;
}

int main() {
    // 测试add函数重载
    std::cout << "add(10, 20) = " << add(10, 20) << std::endl;
    std::cout << "add(3.14, 2.86) = " << add(3.14, 2.86) << std::endl;
    std::cout << "add(\"Hello\", \" World\") = " << add(std::string("Hello"), std::string(" World")) << std::endl;
    
    // 测试max函数重载
    std::cout << "max(10, 20) = " << max(10, 20) << std::endl;
    std::cout << "max(10, 20, 30) = " << max(10, 20, 30) << std::endl;
    std::cout << "max(10, 20, 30, 40) = " << max(10, 20, 30, 40) << std::endl;
    
    // 测试print函数重载
    print(42);
    print(3.14);
    print(std::string("Hello"));
    print('A');
    
    return 0;
}
```

#### 题目9：默认参数练习
**难度**：★★☆☆☆

编写程序使用默认参数实现以下功能：
1. 计算器函数
2. 日志记录函数
3. 配置函数

**要求**：
```cpp
#include <iostream>
#include <string>
#include <vector>

// 计算器函数
double calculate(double a, double b, char operation = '+') {
    switch (operation) {
        case '+': return a + b;
        case '-': return a - b;
        case '*': return a * b;
        case '/': 
            if (b != 0) return a / b;
            else throw std::invalid_argument("Division by zero");
        default: throw std::invalid_argument("Invalid operation");
    }
}

// 日志记录函数
void log(const std::string& message, 
         const std::string& level = "INFO",
         bool timestamp = true,
         bool newline = true) {
    if (timestamp) {
        std::cout << "[TIMESTAMP] ";
    }
    std::cout << "[" << level << "] " << message;
    if (newline) {
        std::cout << std::endl;
    }
}

// 配置函数
void configure(const std::string& name,
               int value = 0,
               bool enabled = true,
               const std::string& description = "") {
    std::cout << "Config: " << name << " = " << value;
    std::cout << " (enabled: " << (enabled ? "true" : "false") << ")";
    if (!description.empty()) {
        std::cout << " - " << description;
    }
    std::cout << std::endl;
}

int main() {
    // 测试计算器函数
    std::cout << "10 + 5 = " << calculate(10, 5) << std::endl;
    std::cout << "10 - 5 = " << calculate(10, 5, '-') << std::endl;
    std::cout << "10 * 5 = " << calculate(10, 5, '*') << std::endl;
    std::cout << "10 / 5 = " << calculate(10, 5, '/') << std::endl;
    
    // 测试日志记录函数
    log("Application started");
    log("Error occurred", "ERROR");
    log("Debug info", "DEBUG", false);
    log("Warning message", "WARNING", true, false);
    
    // 测试配置函数
    configure("max_connections");
    configure("timeout", 30);
    configure("debug_mode", 1, false);
    configure("app_name", 0, true, "My Application");
    
    return 0;
}
```

### 第5天：类和对象

#### 题目10：类设计练习
**难度**：★★★☆☆

设计一个学生类，包含以下功能：
1. 学生信息管理
2. 成绩管理
3. 统计功能

**要求**：
```cpp
#include <iostream>
#include <string>
#include <vector>
#include <algorithm>

class Student {
private:
    std::string name;
    int id;
    std::vector<double> scores;
    
public:
    // 构造函数
    Student(const std::string& n, int i) : name(n), id(i) {}
    
    // 访问器函数
    std::string getName() const { return name; }
    int getId() const { return id; }
    const std::vector<double>& getScores() const { return scores; }
    
    // 成绩管理
    void addScore(double score) {
        if (score >= 0 && score <= 100) {
            scores.push_back(score);
        } else {
            throw std::invalid_argument("Score must be between 0 and 100");
        }
    }
    
    void removeScore(int index) {
        if (index >= 0 && index < scores.size()) {
            scores.erase(scores.begin() + index);
        }
    }
    
    // 统计功能
    double getAverage() const {
        if (scores.empty()) return 0.0;
        
        double sum = 0.0;
        for (double score : scores) {
            sum += score;
        }
        return sum / scores.size();
    }
    
    double getHighestScore() const {
        if (scores.empty()) return 0.0;
        return *std::max_element(scores.begin(), scores.end());
    }
    
    double getLowestScore() const {
        if (scores.empty()) return 0.0;
        return *std::min_element(scores.begin(), scores.end());
    }
    
    int getScoreCount() const {
        return scores.size();
    }
    
    // 显示信息
    void display() const {
        std::cout << "Student: " << name << " (ID: " << id << ")" << std::endl;
        std::cout << "Scores: ";
        for (double score : scores) {
            std::cout << score << " ";
        }
        std::cout << std::endl;
        std::cout << "Average: " << getAverage() << std::endl;
        std::cout << "Highest: " << getHighestScore() << std::endl;
        std::cout << "Lowest: " << getLowestScore() << std::endl;
    }
};

int main() {
    try {
        Student student("Alice", 1001);
        
        // 添加成绩
        student.addScore(85.5);
        student.addScore(92.0);
        student.addScore(78.5);
        student.addScore(95.0);
        
        // 显示学生信息
        student.display();
        
        // 测试统计功能
        std::cout << "Score count: " << student.getScoreCount() << std::endl;
        std::cout << "Average: " << student.getAverage() << std::endl;
        
        // 删除一个成绩
        student.removeScore(1);
        std::cout << "After removing one score:" << std::endl;
        student.display();
        
    } catch (const std::exception& e) {
        std::cerr << "Error: " << e.what() << std::endl;
    }
    
    return 0;
}
```

#### 题目11：银行账户类
**难度**：★★★☆☆

设计一个银行账户类，包含以下功能：
1. 账户信息管理
2. 存款和取款
3. 余额查询
4. 交易记录

**要求**：
```cpp
#include <iostream>
#include <string>
#include <vector>
#include <ctime>
#include <iomanip>

struct Transaction {
    std::string type;
    double amount;
    std::string timestamp;
    
    Transaction(const std::string& t, double a) : type(t), amount(a) {
        time_t now = time(0);
        timestamp = ctime(&now);
        timestamp.pop_back(); // 移除换行符
    }
};

class BankAccount {
private:
    std::string accountNumber;
    std::string accountHolder;
    double balance;
    std::vector<Transaction> transactions;
    
public:
    // 构造函数
    BankAccount(const std::string& accNum, const std::string& holder, double initialBalance = 0.0)
        : accountNumber(accNum), accountHolder(holder), balance(initialBalance) {
        if (initialBalance > 0) {
            transactions.emplace_back("Initial Deposit", initialBalance);
        }
    }
    
    // 访问器函数
    std::string getAccountNumber() const { return accountNumber; }
    std::string getAccountHolder() const { return accountHolder; }
    double getBalance() const { return balance; }
    
    // 存款
    bool deposit(double amount) {
        if (amount > 0) {
            balance += amount;
            transactions.emplace_back("Deposit", amount);
            return true;
        }
        return false;
    }
    
    // 取款
    bool withdraw(double amount) {
        if (amount > 0 && amount <= balance) {
            balance -= amount;
            transactions.emplace_back("Withdrawal", -amount);
            return true;
        }
        return false;
    }
    
    // 转账
    bool transfer(BankAccount& other, double amount) {
        if (amount > 0 && amount <= balance) {
            balance -= amount;
            other.balance += amount;
            transactions.emplace_back("Transfer Out", -amount);
            other.transactions.emplace_back("Transfer In", amount);
            return true;
        }
        return false;
    }
    
    // 显示交易记录
    void displayTransactions() const {
        std::cout << "Transaction History for Account " << accountNumber << ":" << std::endl;
        std::cout << "----------------------------------------" << std::endl;
        for (const auto& transaction : transactions) {
            std::cout << std::setw(15) << transaction.type 
                      << std::setw(10) << std::fixed << std::setprecision(2) << transaction.amount
                      << "  " << transaction.timestamp << std::endl;
        }
        std::cout << "----------------------------------------" << std::endl;
        std::cout << "Current Balance: $" << std::fixed << std::setprecision(2) << balance << std::endl;
    }
    
    // 显示账户信息
    void displayAccountInfo() const {
        std::cout << "Account Number: " << accountNumber << std::endl;
        std::cout << "Account Holder: " << accountHolder << std::endl;
        std::cout << "Current Balance: $" << std::fixed << std::setprecision(2) << balance << std::endl;
    }
};

int main() {
    // 创建账户
    BankAccount account1("12345", "Alice", 1000.0);
    BankAccount account2("67890", "Bob", 500.0);
    
    // 显示初始信息
    std::cout << "Initial Account Information:" << std::endl;
    account1.displayAccountInfo();
    account2.displayAccountInfo();
    std::cout << std::endl;
    
    // 进行一些交易
    account1.deposit(200.0);
    account1.withdraw(150.0);
    account1.transfer(account2, 100.0);
    
    account2.deposit(50.0);
    account2.withdraw(75.0);
    
    // 显示最终信息
    std::cout << "Final Account Information:" << std::endl;
    account1.displayAccountInfo();
    account2.displayAccountInfo();
    std::cout << std::endl;
    
    // 显示交易记录
    account1.displayTransactions();
    std::cout << std::endl;
    account2.displayTransactions();
    
    return 0;
}
```

### 第6天：综合练习

#### 题目12：计算器类
**难度**：★★★☆☆

设计一个计算器类，支持基本运算和高级功能：
1. 基本四则运算
2. 科学计算功能
3. 历史记录
4. 表达式计算

**要求**：
```cpp
#include <iostream>
#include <string>
#include <vector>
#include <cmath>
#include <sstream>

class Calculator {
private:
    std::vector<std::string> history;
    double lastResult;
    
public:
    Calculator() : lastResult(0.0) {}
    
    // 基本运算
    double add(double a, double b) {
        double result = a + b;
        addToHistory(std::to_string(a) + " + " + std::to_string(b) + " = " + std::to_string(result));
        lastResult = result;
        return result;
    }
    
    double subtract(double a, double b) {
        double result = a - b;
        addToHistory(std::to_string(a) + " - " + std::to_string(b) + " = " + std::to_string(result));
        lastResult = result;
        return result;
    }
    
    double multiply(double a, double b) {
        double result = a * b;
        addToHistory(std::to_string(a) + " * " + std::to_string(b) + " = " + std::to_string(result));
        lastResult = result;
        return result;
    }
    
    double divide(double a, double b) {
        if (b == 0) {
            throw std::invalid_argument("Division by zero");
        }
        double result = a / b;
        addToHistory(std::to_string(a) + " / " + std::to_string(b) + " = " + std::to_string(result));
        lastResult = result;
        return result;
    }
    
    // 科学计算功能
    double power(double base, double exponent) {
        double result = std::pow(base, exponent);
        addToHistory(std::to_string(base) + "^" + std::to_string(exponent) + " = " + std::to_string(result));
        lastResult = result;
        return result;
    }
    
    double squareRoot(double x) {
        if (x < 0) {
            throw std::invalid_argument("Cannot calculate square root of negative number");
        }
        double result = std::sqrt(x);
        addToHistory("sqrt(" + std::to_string(x) + ") = " + std::to_string(result));
        lastResult = result;
        return result;
    }
    
    double sine(double x) {
        double result = std::sin(x);
        addToHistory("sin(" + std::to_string(x) + ") = " + std::to_string(result));
        lastResult = result;
        return result;
    }
    
    double cosine(double x) {
        double result = std::cos(x);
        addToHistory("cos(" + std::to_string(x) + ") = " + std::to_string(result));
        lastResult = result;
        return result;
    }
    
    // 历史记录功能
    void addToHistory(const std::string& operation) {
        history.push_back(operation);
    }
    
    void displayHistory() const {
        std::cout << "Calculation History:" << std::endl;
        std::cout << "-------------------" << std::endl;
        for (size_t i = 0; i < history.size(); ++i) {
            std::cout << (i + 1) << ". " << history[i] << std::endl;
        }
        std::cout << "-------------------" << std::endl;
    }
    
    void clearHistory() {
        history.clear();
    }
    
    // 获取最后结果
    double getLastResult() const {
        return lastResult;
    }
    
    // 使用最后结果进行计算
    double addToLast(double x) {
        return add(lastResult, x);
    }
    
    double subtractFromLast(double x) {
        return subtract(lastResult, x);
    }
    
    double multiplyLast(double x) {
        return multiply(lastResult, x);
    }
    
    double divideLast(double x) {
        return divide(lastResult, x);
    }
};

int main() {
    Calculator calc;
    
    try {
        // 基本运算
        std::cout << "Basic Operations:" << std::endl;
        calc.add(10, 5);
        calc.subtract(10, 3);
        calc.multiply(4, 6);
        calc.divide(15, 3);
        
        // 科学计算
        std::cout << "\nScientific Operations:" << std::endl;
        calc.power(2, 8);
        calc.squareRoot(64);
        calc.sine(3.14159 / 2);
        calc.cosine(0);
        
        // 使用最后结果
        std::cout << "\nUsing Last Result:" << std::endl;
        calc.addToLast(10);
        calc.multiplyLast(2);
        
        // 显示历史记录
        std::cout << std::endl;
        calc.displayHistory();
        
    } catch (const std::exception& e) {
        std::cerr << "Error: " << e.what() << std::endl;
    }
    
    return 0;
}
```

### 第7天：项目实践

#### 项目1：简单容器类
**难度**：★★★★☆

实现一个简单的动态数组类模板，包含以下功能：
1. 动态内存分配
2. 元素访问和修改
3. 大小管理
4. 拷贝构造和赋值操作

**要求**：
```cpp
#include <iostream>
#include <stdexcept>
#include <algorithm>

template<typename T>
class DynamicArray {
private:
    T* data;
    size_t size;
    size_t capacity;
    
public:
    // 构造函数
    DynamicArray() : data(nullptr), size(0), capacity(0) {}
    
    DynamicArray(size_t initialCapacity) : size(0), capacity(initialCapacity) {
        data = new T[capacity];
    }
    
    // 析构函数
    ~DynamicArray() {
        delete[] data;
    }
    
    // 拷贝构造函数
    DynamicArray(const DynamicArray& other) : size(other.size), capacity(other.capacity) {
        data = new T[capacity];
        for (size_t i = 0; i < size; ++i) {
            data[i] = other.data[i];
        }
    }
    
    // 赋值操作符
    DynamicArray& operator=(const DynamicArray& other) {
        if (this != &other) {
            delete[] data;
            size = other.size;
            capacity = other.capacity;
            data = new T[capacity];
            for (size_t i = 0; i < size; ++i) {
                data[i] = other.data[i];
            }
        }
        return *this;
    }
    
    // 移动构造函数
    DynamicArray(DynamicArray&& other) noexcept : data(other.data), size(other.size), capacity(other.capacity) {
        other.data = nullptr;
        other.size = 0;
        other.capacity = 0;
    }
    
    // 移动赋值操作符
    DynamicArray& operator=(DynamicArray&& other) noexcept {
        if (this != &other) {
            delete[] data;
            data = other.data;
            size = other.size;
            capacity = other.capacity;
            other.data = nullptr;
            other.size = 0;
            other.capacity = 0;
        }
        return *this;
    }
    
    // 基本操作
    void push_back(const T& element) {
        if (size >= capacity) {
            reserve(capacity == 0 ? 1 : capacity * 2);
        }
        data[size++] = element;
    }
    
    void pop_back() {
        if (size > 0) {
            --size;
        }
    }
    
    T& operator[](size_t index) {
        if (index >= size) {
            throw std::out_of_range("Index out of range");
        }
        return data[index];
    }
    
    const T& operator[](size_t index) const {
        if (index >= size) {
            throw std::out_of_range("Index out of range");
        }
        return data[index];
    }
    
    // 容量管理
    size_t getSize() const { return size; }
    size_t getCapacity() const { return capacity; }
    bool empty() const { return size == 0; }
    
    void reserve(size_t newCapacity) {
        if (newCapacity > capacity) {
            T* newData = new T[newCapacity];
            for (size_t i = 0; i < size; ++i) {
                newData[i] = data[i];
            }
            delete[] data;
            data = newData;
            capacity = newCapacity;
        }
    }
    
    void resize(size_t newSize) {
        if (newSize > capacity) {
            reserve(newSize);
        }
        size = newSize;
    }
    
    // 迭代器支持
    T* begin() { return data; }
    T* end() { return data + size; }
    const T* begin() const { return data; }
    const T* end() const { return data + size; }
    
    // 显示信息
    void display() const {
        std::cout << "Size: " << size << ", Capacity: " << capacity << std::endl;
        std::cout << "Elements: ";
        for (size_t i = 0; i < size; ++i) {
            std::cout << data[i] << " ";
        }
        std::cout << std::endl;
    }
};

int main() {
    try {
        // 测试int类型
        DynamicArray<int> intArray;
        
        for (int i = 1; i <= 10; ++i) {
            intArray.push_back(i * i);
        }
        
        std::cout << "Integer Array:" << std::endl;
        intArray.display();
        
        // 测试拷贝
        DynamicArray<int> intArray2 = intArray;
        std::cout << "\nCopied Array:" << std::endl;
        intArray2.display();
        
        // 测试string类型
        DynamicArray<std::string> stringArray;
        stringArray.push_back("Hello");
        stringArray.push_back("World");
        stringArray.push_back("C++");
        
        std::cout << "\nString Array:" << std::endl;
        stringArray.display();
        
        // 测试范围for循环
        std::cout << "\nUsing range-based for loop:" << std::endl;
        for (const auto& str : stringArray) {
            std::cout << str << " ";
        }
        std::cout << std::endl;
        
    } catch (const std::exception& e) {
        std::cerr << "Error: " << e.what() << std::endl;
    }
    
    return 0;
}
```

## 检查点

### 第1周结束时的能力要求
- [ ] 能够使用auto关键字和类型推导
- [ ] 熟练使用范围for循环和lambda表达式
- [ ] 掌握基本数据类型和const/constexpr
- [ ] 能够编写if-else和循环语句
- [ ] 能够定义和调用函数
- [ ] 理解函数重载和默认参数
- [ ] 能够定义简单的类
- [ ] 理解构造函数、析构函数和访问控制
- [ ] 完成项目1的基础部分

## 评分标准

### 题目1-3：现代C++特性（30分）
- 正确使用auto关键字（10分）
- 熟练使用范围for循环（10分）
- 掌握lambda表达式（10分）

### 题目4-5：数据类型和变量（20分）
- 掌握基本数据类型（10分）
- 理解const和constexpr（10分）

### 题目6-7：控制流语句（20分）
- 熟练使用条件语句（10分）
- 掌握循环语句（10分）

### 题目8-9：函数基础（20分）
- 理解函数重载（10分）
- 掌握默认参数（10分）

### 题目10-11：类和对象（20分）
- 能够设计简单的类（10分）
- 理解类的封装性（10分）

### 题目12：综合练习（30分）
- 能够综合运用所学知识（30分）

### 项目1：简单容器类（50分）
- 实现基本功能（20分）
- 异常安全（15分）
- 代码质量（15分）

**总分：190分**
**及格分数：114分（60%）**

---

**学习时间**：第1周  
**预计完成时间**：2024-01-22
