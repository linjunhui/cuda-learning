# 需求分析方法 - 新手完整教程

## 📖 写在前面

欢迎来到需求分析的世界！如果你是完全的新手，不用担心，本教程将从最基础的概念开始，用通俗易懂的语言和丰富的例子，一步步教会你如何进行需求分析。

---

## 第一部分：基础知识 - 什么是需求分析？

### 1.1 需求是什么？

想象一下，你想买一台新手机，你会告诉售货员：
- "我想要一台手机"（这是模糊的需求）
- "我想要一台iPhone 15，256GB，价格在6000元左右"（这是清晰的需求）

在软件开发中，**需求**就是：
- **用户想要什么功能**
- **系统应该做什么**
- **怎么做才能满足用户的需求**

### 1.2 为什么需要需求分析？

**没有需求分析会发生什么？**

```
用户说："我要一个登录功能"
程序员理解："用户输入用户名和密码，然后显示成功"
实际用户想要："用户可以用手机号或邮箱登录，忘记密码可以找回，登录失败3次要锁定账号..."

结果：开发出来的功能用户不满意，需要返工修改
```

**有了需求分析的好处：**
- ✅ 明确用户真正想要什么
- ✅ 开发人员清楚要做什么
- ✅ 测试人员知道要测试什么
- ✅ 减少返工，节省时间

### 1.3 需求分析的流程

```
1. 收集需求      → 用户/业务人员告诉我们想要什么
2. 分析需求      → 理解需求的真正含义
3. 整理需求      → 用文档记录下来
4. 评审需求      → 大家一起确认理解是否正确
5. 管理需求      → 需求变更时及时更新
```

---

## 第二部分：实例化需求 - 用例子说话

### 2.1 什么是实例化需求？

**传统方式（抽象描述）**：
```
用户登录功能：
- 用户输入用户名和密码
- 系统验证用户名和密码
- 验证通过则允许登录
```

**实例化需求方式（具体例子）**：
```
例子1：用户用正确密码登录成功
  场景：张三要登录系统
  前提：系统中已有张三的账号，用户名"zhangsan"，密码"123456"
  操作：张三输入用户名"zhangsan"和密码"123456"，点击"登录"
  结果：系统显示"登录成功"，跳转到主页，显示"欢迎，张三"

例子2：用户输入错误密码
  场景：张三输入了错误的密码
  前提：系统中已有张三的账号，正确密码是"123456"
  操作：张三输入用户名"zhangsan"和错误密码"111111"，点击"登录"
  结果：系统显示"用户名或密码错误"，不跳转页面，不清除已输入的用户名
```

**看到区别了吗？**
- 抽象描述：每个人可能有不同的理解
- 具体例子：大家看到的是同样的场景，理解一致

### 2.2 实例化需求的优点

#### 优点1：在适当的时间提供恰当够用的文档

**传统文档**：
- 几十页的文档，但很多用不到
- 写文档花了很多时间
- 文档更新不及时，没人看

**实例化需求**：
- 只写需要的例子
- 例子简洁明了
- 容易更新和维护

#### 优点2：加强协作减少返工

**传统方式的问题**：
```
产品经理："用户要能登录"
开发人员："好的，我理解了"
测试人员："我理解的也是这样"
上线后用户："这不是我想要的！"
→ 返工重做
```

**实例化需求**：
```
产品经理："看这个例子，用户登录时..."
开发人员："我看到了，是这样做对吗？"
测试人员："我理解的是这样测试..."
→ 大家一起看例子，理解一致，减少返工
```

#### 优点3：更早从用户那里获取反馈

**例子驱动**：
- 用例子和用户确认："这就是你想要的功能吗？"
- 用户看到例子就知道功能是什么样的
- 发现问题可以及时调整

#### 优点4：发现信息的不足

**写例子时会发现**：
- "等等，如果用户忘记密码怎么办？"
- "如果账号被锁定了怎么办？"
- "密码长度有要求吗？"

这些问题在写例子时就会暴露，而不是等到开发时才发现。

---

## 第三部分：实战教程 - 手把手教你写实例化需求

### 3.1 第一步：理解业务目标

**任务**：分析一个"用户注册"功能

**问自己几个问题**：
1. 为什么要这个功能？（业务目标）
2. 谁会用这个功能？（用户角色）
3. 主要流程是什么？（核心场景）

**示例**：
```
业务目标：
- 让新用户能够注册账号，使用我们的服务
- 收集用户的基本信息
- 验证用户信息的真实性

用户角色：
- 未注册的新用户

核心场景：
- 用户填写信息并成功注册
```

### 3.2 第二步：写第一个例子（正常情况）

**使用Given-When-Then格式**：

#### 📝 格式说明

```
Given（给定/前提条件）：
  - 系统处于什么状态
  - 有什么数据或配置

When（当/触发动作）：
  - 用户做了什么操作
  - 系统触发了什么事件

Then（那么/预期结果）：
  - 系统应该返回什么结果
  - 系统状态应该变成什么样
  - 用户应该看到什么
```

#### 💡 实战示例：用户注册成功

**例子1：新用户成功注册**

```
场景：新用户注册账号

Given（前提条件）：
  - 用户访问注册页面
  - 用户未注册过账号
  - 邮箱"test@example.com"未被使用

When（操作）：
  - 用户输入邮箱"test@example.com"
  - 用户输入密码"Password123"
  - 用户确认密码"Password123"
  - 用户输入手机号"13812345678"
  - 用户输入验证码"1234"（假设收到）
  - 用户勾选"同意用户协议"
  - 用户点击"注册"按钮

Then（结果）：
  - 系统验证所有信息格式正确
  - 系统验证邮箱未被注册
  - 系统验证手机号未被使用
  - 系统创建新账号
  - 系统发送激活邮件到"test@example.com"
  - 系统显示"注册成功，请查收邮件激活账号"
  - 用户账号状态为"未激活"
  - 系统记录注册时间
```

**新手提示**：
- 要具体！说"test@example.com"而不是"某个邮箱"
- 要说清楚每一步操作
- 要列出所有重要结果

### 3.3 第三步：补充异常情况

**用户不可能总是做对，系统要处理各种情况**

#### 例子2：密码不一致

```
场景：用户两次输入的密码不一致

Given：
  - 用户访问注册页面

When：
  - 用户输入密码"Password123"
  - 用户输入确认密码"Password456"（不一致）
  - 用户点击"注册"按钮

Then：
  - 系统显示错误提示"两次密码输入不一致"
  - 系统不清除已输入的其他信息
  - 系统不创建账号
  - 密码输入框和确认密码框都高亮显示错误
```

#### 例子3：邮箱已被注册

```
场景：用户注册时使用的邮箱已被注册

Given：
  - 系统中已存在邮箱"existing@example.com"的账号

When：
  - 用户输入邮箱"existing@example.com"
  - 用户填写其他信息
  - 用户点击"注册"按钮

Then：
  - 系统验证邮箱已存在
  - 系统显示错误提示"该邮箱已被注册，请使用其他邮箱或直接登录"
  - 系统提供"去登录"链接
  - 系统不创建新账号
```

#### 例子4：密码太简单

```
场景：用户输入的密码不符合要求

Given：
  - 系统要求密码至少8位，包含字母和数字

When：
  - 用户输入简单密码"123"（只有3位）
  - 用户点击"注册"按钮

Then：
  - 系统验证密码不符合要求
  - 系统显示错误提示"密码至少8位，需包含字母和数字"
  - 系统显示密码强度提示（弱/中/强）
  - 系统不创建账号
```

### 3.4 第四步：补充边界情况

**边界情况是容易出错的地方**

#### 例子5：输入为空

```
场景：用户未填写必填项

Given：
  - 用户访问注册页面

When：
  - 用户邮箱字段为空
  - 用户其他字段有填写
  - 用户点击"注册"按钮

Then：
  - 系统显示"邮箱不能为空"
  - 邮箱输入框高亮显示（红色边框）
  - 系统不提交表单
  - 邮箱输入框获得焦点
```

#### 例子6：输入特殊字符

```
场景：用户输入包含特殊字符的邮箱

测试数据表：
| 输入的邮箱           | 预期结果              | 说明           |
|---------------------|----------------------|---------------|
| test@example.com    | 验证通过             | 正常邮箱格式   |
| test+tag@example.com| 验证通过             | 带+号的邮箱    |
| test.name@example.com| 验证通过            | 带.的邮箱      |
| test@example        | 验证失败，显示"邮箱格式不正确" | 缺少域名后缀 |
| @example.com        | 验证失败，显示"邮箱格式不正确" | 缺少用户名    |
```

### 3.5 第五步：整理成文档

**把例子整理成完整的文档**：

```
# 用户注册功能 - 实例化需求

## 业务目标
- 让新用户能够注册账号
- 收集用户基本信息
- 验证用户信息真实性

## 功能范围
- 包含：邮箱注册、密码设置、基本信息收集
- 不包含：第三方登录、忘记密码（后续功能）

## 示例场景

### 场景1：成功注册
[粘贴例子1的内容]

### 场景2：密码不一致
[粘贴例子2的内容]

...（其他场景）

## 业务规则
1. 密码至少8位，包含字母和数字
2. 邮箱必须唯一
3. 手机号必须唯一
4. 必须同意用户协议才能注册

## 验收标准
- [ ] 用户可以使用有效信息成功注册
- [ ] 系统能正确验证各种错误输入
- [ ] 错误提示清晰明确
- [ ] 注册成功后会发送激活邮件
```

---

## 第四部分：实战练习 - 你来试试

### 练习1：分析"忘记密码"功能

**你的任务**：
1. 列出3-5个场景（正常、异常、边界）
2. 用Given-When-Then格式写每个场景
3. 整理成文档

**提示**：
- 正常场景：用户用正确邮箱找回密码
- 异常场景：邮箱不存在、邮箱未注册
- 边界场景：邮箱格式错误、验证码错误

### 练习2：分析"购物车"功能

**场景提示**：
- 添加商品到购物车
- 从购物车移除商品
- 修改商品数量
- 购物车为空的情况
- 商品库存不足的情况

---

## 第五部分：关键过程模式 - 系统化的方法

当你掌握了基础知识后，可以学习更系统化的方法：

### 模式1：从目标导出范围

**步骤**：
1. 明确业务目标
2. 从目标推导出需要哪些功能
3. 明确不包含哪些功能

**示例**：
```
业务目标：让用户能够快速找到想要的产品

从目标导出：
- 需要：搜索功能、分类浏览、筛选功能
- 不需要：个性化推荐（属于其他目标）
```

### 模式2：使用目标来制定示例

**每个例子都要关联到业务目标**

**示例**：
```
目标：用户能快速找到产品
例子：用户搜索"iPhone"能找到相关商品
→ 这个例子直接支持"快速找到产品"这个目标
```

### 模式3：提炼出规范说明

**从例子中总结出规律和规则**

**示例**：
```
例子1：用户搜索"iPhone"，找到10个商品
例子2：用户搜索"手机"，找到50个商品
例子3：用户搜索"不存在商品"，找到0个商品

提炼出的规则：
- 搜索不区分大小写
- 搜索支持模糊匹配
- 无结果时显示"未找到相关商品"
```

### 模式4：用示例说明需求

**用具体的例子，不要用抽象的描述**

### 模式5：验证规范说明

**用更多例子验证规则是否完整**

---

## 第六部分：常见问题和解答

### Q1：例子要写多详细？

**A**：
- **刚开始**：可以写得很详细，确保不遗漏
- **熟练后**：可以精简，但关键信息不能少
- **原则**：要让没参与讨论的人也能看懂

### Q2：要写多少个例子？

**A**：
- **至少**：正常流程 + 1-2个异常情况
- **建议**：正常流程 + 主要异常 + 边界情况
- **原则**：覆盖所有重要的场景

### Q3：什么时候写例子？

**A**：
- **最佳时机**：在开始开发前，需求分析阶段
- **时机**：需求评审时，大家一起写
- **不要**：等到开发完了再补例子

### Q4：例子和测试用例的区别？

**A**：
- **例子（实例化需求）**：说明"需求是什么"
- **测试用例**：说明"怎么验证需求实现正确"
- **关系**：例子可以转化为测试用例

### Q5：如果需求变化了怎么办？

**A**：
- **及时更新例子**：需求变化时，例子也要更新
- **通知团队**：大家一起看更新的例子
- **版本管理**：记录例子的变更历史

---

## 第七部分：学习路径

### 第1周：理解概念

**任务**：
- [ ] 阅读本教程
- [ ] 理解什么是需求分析
- [ ] 理解什么是实例化需求
- [ ] 理解Given-When-Then格式

**检验**：
- 能用自己的话解释需求分析和实例化需求

### 第2周：写第一个例子

**任务**：
- [ ] 找一个简单的功能（如登录、注册）
- [ ] 写1个正常场景的例子
- [ ] 写1个异常场景的例子
- [ ] 请有经验的人帮你检查

**检验**：
- 例子清晰、具体、可理解

### 第3周：练习写多个例子

**任务**：
- [ ] 分析一个中等复杂的功能
- [ ] 写正常、异常、边界场景
- [ ] 整理成文档
- [ ] 与团队讨论

**检验**：
- 能独立写出完整的需求文档

### 第4周：应用到实际项目

**任务**：
- [ ] 参与实际项目的需求分析
- [ ] 使用实例化需求方法
- [ ] 记录问题和收获
- [ ] 总结经验

**检验**：
- 能在实际工作中应用方法

---

## 第八部分：工具推荐（新手友好）

### 1. 简单的文档工具（推荐新手）

**石墨文档 / 飞书文档**：
- 简单易用
- 可以多人协作
- 免费使用
- 适合写Given-When-Then格式的例子

### 2. 专业工具（进阶后使用）

**Cucumber**：
- 可以写可执行的例子（代码）
- 需要编程基础
- 适合有经验的团队

**建议**：
- 新手先用文档工具
- 熟练后再考虑专业工具

---

## 第九部分：学习检查清单

### 基础理解 ✅
- [ ] 我能解释什么是需求分析
- [ ] 我能解释什么是实例化需求
- [ ] 我理解实例化需求的优点
- [ ] 我理解Given-When-Then格式

### 基本技能 ✅
- [ ] 我能写出Given（前提条件）
- [ ] 我能写出When（操作步骤）
- [ ] 我能写出Then（预期结果）
- [ ] 我能写出正常场景的例子
- [ ] 我能写出异常场景的例子
- [ ] 我能写出边界情况的例子

### 实践能力 ✅
- [ ] 我能独立分析一个简单功能
- [ ] 我能写完整的需求文档
- [ ] 我能识别遗漏的场景
- [ ] 我能与团队讨论需求

---

## 第十部分：下一步学习

### 学完本教程后：

1. **继续学习**：
   - [用户故事模板](./模板/用户故事模板.md)
   - [验收标准模板](./模板/验收标准模板.md)
   - [实践案例](./实践案例/)

2. **实际应用**：
   - 找一个小功能练习
   - 参与实际项目的需求分析
   - 记录学习笔记

3. **深入提升**：
   - 学习关键过程模式
   - 学习识别需求问题
   - 学习团队协作技巧

---

## 🎉 恭喜你！

如果你读到这里，说明你已经掌握了需求分析的基础知识。接下来就是**实践、实践、再实践**！

记住：
- **不要怕出错**：从错误中学习
- **多问多交流**：和团队一起讨论
- **持续改进**：每次实践后总结经验

**祝你学习顺利！** 🚀

---

**需要帮助？**
- 参考：[实践案例](./实践案例/)
- 参考：[学习笔记模板](./学习笔记模板.md)
- 提问：找有经验的同事或导师



