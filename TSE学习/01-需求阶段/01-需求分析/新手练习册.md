# 需求分析新手练习册

## 📚 使用说明

本练习册包含从简单到复杂的练习题目，帮助你循序渐进地掌握需求分析方法。

**如何使用**：
1. 按顺序完成每个练习
2. 完成后再看参考答案
3. 对比差异，总结经验
4. 在实际项目中应用

---

## 练习1：分析"计算器"功能（最简单）

### 题目描述

分析一个简单的"加法计算器"功能。

### 你的任务

1. **明确业务目标**：这个功能是为了什么？
2. **写正常场景**：用户正确使用计算器的例子
3. **写异常场景**：用户输入错误的情况
4. **写边界场景**：特殊输入的情况

### 提示

考虑这些场景：
- 用户输入两个数字并得到结果
- 用户输入非数字
- 用户没有输入任何内容
- 用户输入很大的数字

### 参考答案（完成后再看）

<details>
<summary>点击展开参考答案</summary>

```
# 加法计算器功能 - 实例化需求

## 业务目标
- 让用户能够快速计算两个数字的和
- 提供简单易用的计算工具

## 场景1：正常计算

场景：用户计算两个正整数的和

Given：
  - 用户打开计算器页面
  - 计算器显示为"0"

When：
  - 用户点击数字"5"
  - 用户点击运算符"+"
  - 用户点击数字"3"
  - 用户点击"="按钮

Then：
  - 计算器显示"8"
  - 显示区域显示完整的计算过程"5 + 3 = 8"

## 场景2：输入非数字

场景：用户输入了无效字符

Given：
  - 用户打开计算器页面

When：
  - 用户尝试输入字母"abc"
  - 或用户输入特殊字符"@#$"

Then：
  - 计算器不响应（不接受非数字输入）
  - 显示区域保持原样或显示错误提示

## 场景3：边界情况 - 大数字

场景：用户计算非常大的数字

Given：
  - 用户打开计算器页面

When：
  - 用户输入"9999999999"
  - 用户点击"+"
  - 用户输入"9999999999"

Then：
  - 系统检查计算结果是否超出范围
  - 如果超出：显示"结果超出范围"或"溢出"
  - 如果未超出：正常显示计算结果

## 场景4：边界情况 - 小数

场景：用户计算小数

Given：
  - 用户打开计算器页面

When：
  - 用户输入"5.5"
  - 用户点击"+"
  - 用户输入"3.2"

Then：
  - 计算器显示"8.7"
  - 保留适当的精度（如2位小数）
```

</details>

---

## 练习2：分析"用户登录"功能（基础）

### 题目描述

分析一个常见的"用户登录"功能。

### 你的任务

写出至少5个场景的例子：
1. 正常登录成功
2. 密码错误
3. 用户名不存在
4. 输入为空
5. 账号被锁定

### 参考答案（完成后再看）

<details>
<summary>点击展开参考答案</summary>

```
# 用户登录功能 - 实例化需求

## 场景1：成功登录

场景：用户使用正确的用户名和密码登录

Given：
  - 系统中存在用户：用户名"zhangsan"，密码"123456"，账号状态"激活"

When：
  - 用户访问登录页面
  - 用户输入用户名"zhangsan"
  - 用户输入密码"123456"
  - 用户点击"登录"按钮

Then：
  - 系统验证用户名和密码匹配
  - 系统创建用户会话
  - 系统显示"登录成功"
  - 系统跳转到主页
  - 系统显示欢迎消息"欢迎，zhangsan"
  - 系统记录登录日志

## 场景2：密码错误

场景：用户输入错误的密码

Given：
  - 系统中存在用户：用户名"zhangsan"，正确密码"123456"

When：
  - 用户输入用户名"zhangsan"
  - 用户输入错误密码"111111"
  - 用户点击"登录"按钮

Then：
  - 系统验证密码不匹配
  - 系统显示错误消息"用户名或密码错误"
  - 系统不清除已输入的用户名
  - 密码字段被清空
  - 系统不创建用户会话
  - 系统记录登录失败次数

## 场景3：用户名不存在

场景：用户输入不存在的用户名

Given：
  - 系统中不存在用户"nonexist"

When：
  - 用户输入用户名"nonexist"
  - 用户输入任意密码
  - 用户点击"登录"按钮

Then：
  - 系统验证用户名不存在
  - 系统显示错误消息"用户名或密码错误"（为了安全，不明确说用户名不存在）
  - 系统不创建用户会话

## 场景4：输入为空

场景：用户未填写用户名或密码

Given：
  - 用户访问登录页面

测试情况表：
| 用户名 | 密码 | 预期结果 |
|--------|------|---------|
| 空 | 有值 | 显示"用户名不能为空"，用户名输入框高亮 |
| 有值 | 空 | 显示"密码不能为空"，密码输入框高亮 |
| 空 | 空 | 显示"用户名和密码不能为空"，两个输入框都高亮 |

When：
  - 用户点击"登录"按钮（未填写必填项）

Then：
  - 系统显示相应的错误提示
  - 系统不提交表单
  - 系统不创建用户会话

## 场景5：账号被锁定

场景：用户多次输入错误密码，账号被锁定

Given：
  - 系统中存在用户"zhangsan"
  - 用户已连续2次输入错误密码
  - 系统规则：连续3次错误密码锁定账号30分钟

When：
  - 用户第3次输入错误密码
  - 用户点击"登录"按钮

Then：
  - 系统验证密码错误
  - 系统锁定账号
  - 系统显示"账号已被锁定，请30分钟后再试"
  - 系统记录锁定时间和原因
  - 即使输入正确密码也无法登录（在锁定期间）
```

</details>

---

## 练习3：分析"商品搜索"功能（进阶）

### 题目描述

一个电商网站的商品搜索功能。

### 你的任务

分析以下场景：
1. 正常搜索
2. 搜索无结果
3. 搜索多个关键词
4. 搜索特殊字符
5. 搜索超长关键词
6. 搜索为空

### 参考答案（完成后再看）

<details>
<summary>点击展开参考答案</summary>

```
# 商品搜索功能 - 实例化需求

## 场景1：正常搜索找到商品

场景：用户搜索关键词，系统返回相关商品

Given：
  - 系统中有以下商品：
    | 商品ID | 商品名称 | 价格 |
    |--------|---------|------|
    | P001   | iPhone 15 | 5999 |
    | P002   | iPhone 15 Pro | 7999 |
    | P003   | 华为手机 | 4999 |

When：
  - 用户访问商品搜索页面
  - 用户在搜索框输入"iPhone"
  - 用户点击"搜索"按钮或按Enter键

Then：
  - 系统搜索包含"iPhone"的商品
  - 系统显示搜索结果页面
  - 系统显示找到"2个商品"
  - 系统显示商品列表：iPhone 15 和 iPhone 15 Pro
  - 每个商品显示：商品名称、价格、图片
  - 系统按相关性排序（或按价格、销量等）

## 场景2：搜索无结果

场景：用户搜索的关键词没有匹配的商品

Given：
  - 系统中没有包含"外星人"的商品

When：
  - 用户输入"外星人"
  - 用户点击"搜索"

Then：
  - 系统搜索未找到匹配商品
  - 系统显示"未找到相关商品"
  - 系统显示"建议：检查拼写、尝试其他关键词"
  - 系统显示热门搜索或推荐商品（可选）

## 场景3：搜索特殊字符

场景：用户输入包含特殊字符的搜索词

测试数据表：
| 输入的搜索词 | 预期结果 | 说明 |
|------------|---------|------|
| iPhone 15 | 正常搜索 | 包含空格 |
| "iPhone" | 正常搜索（忽略引号）或精确搜索 | 根据业务规则 |
| iPhone@15 | 忽略特殊字符或错误提示 | 根据业务规则 |
| iPhone#15 | 忽略特殊字符或错误提示 | 根据业务规则 |

When：
  - 用户输入包含特殊字符的搜索词

Then：
  - 系统根据业务规则处理特殊字符
  - 系统显示搜索结果或相应提示

## 场景4：搜索超长关键词

场景：用户输入非常长的搜索关键词

Given：
  - 系统限制搜索关键词最大长度100个字符

When：
  - 用户输入超过100个字符的搜索词
  - 用户点击"搜索"

Then：
  - 系统截取前100个字符进行搜索
  - 或系统显示"搜索关键词过长，请简化搜索词"
  - 系统提示用户输入合理长度的关键词

## 场景5：搜索为空

场景：用户未输入任何内容就搜索

Given：
  - 用户访问搜索页面

When：
  - 搜索框为空
  - 用户点击"搜索"按钮

Then：
  - 系统显示"请输入搜索关键词"
  - 搜索框获得焦点
  - 系统不执行搜索
  - 或系统显示热门搜索/推荐商品

## 场景6：搜索历史

场景：系统记录用户的搜索历史

Given：
  - 用户已登录
  - 用户之前搜索过"iPhone"和"华为"

When：
  - 用户再次打开搜索页面
  - 用户点击搜索框

Then：
  - 系统显示搜索历史："iPhone"、"华为"
  - 用户点击历史记录可直接搜索
  - 用户可以清除搜索历史
```

</details>

---

## 练习4：分析"购物车"功能（综合）

### 题目描述

电商网站的购物车功能，包含添加、删除、修改数量等。

### 你的任务

分析以下功能点，每个功能写出2-3个场景：
1. 添加商品到购物车
2. 从购物车删除商品
3. 修改购物车中商品数量
4. 查看购物车
5. 购物车为空的情况

### 参考答案（完成后再看）

<details>
<summary>点击展开参考答案</summary>

```
# 购物车功能 - 实例化需求

## 场景1：添加商品到购物车

### 场景1.1：添加新商品

Given：
  - 用户已登录
  - 用户浏览商品页面
  - 商品"iPhone 15"库存为10，单价5999
  - 用户购物车为空

When：
  - 用户点击商品"iPhone 15"的"加入购物车"按钮

Then：
  - 系统验证用户已登录
  - 系统验证商品库存充足
  - 系统将商品添加到购物车，数量为1
  - 系统显示"已添加到购物车"
  - 购物车图标显示商品数量"1"
  - 用户可以继续浏览或去购物车结算

### 场景1.2：重复添加同一商品

Given：
  - 用户购物车中已有"iPhone 15"，数量为1

When：
  - 用户再次点击"iPhone 15"的"加入购物车"按钮

Then：
  - 系统将商品数量增加到2（累加）
  - 或系统提示"商品已在购物车中"
  - 根据业务规则决定

## 场景2：删除购物车商品

### 场景2.1：删除单个商品

Given：
  - 用户购物车中有商品：
    | 商品名称 | 数量 | 单价 |
    |---------|------|------|
    | iPhone 15 | 1 | 5999 |
    | 充电器 | 2 | 99 |

When：
  - 用户点击"iPhone 15"旁边的"删除"按钮
  - 用户确认删除

Then：
  - 系统从购物车移除"iPhone 15"
  - 购物车中只剩余"充电器"
  - 购物车总金额更新为198（2×99）
  - 系统显示"已删除"提示

### 场景2.2：清空购物车

Given：
  - 用户购物车中有多个商品

When：
  - 用户点击"清空购物车"按钮
  - 用户确认清空

Then：
  - 系统移除所有商品
  - 购物车显示"购物车是空的"
  - 系统提示"快去选购商品吧"

## 场景3：修改商品数量

### 场景3.1：增加数量

Given：
  - 用户购物车中有"iPhone 15"，数量为1
  - 商品库存为10

When：
  - 用户点击数量输入框旁的"+"按钮
  - 或用户直接输入"2"

Then：
  - 系统验证库存充足（2 ≤ 10）
  - 系统更新商品数量为2
  - 系统更新该商品小计为11998（2×5999）
  - 系统更新购物车总金额

### 场景3.2：减少数量到0

Given：
  - 用户购物车中有商品，数量为1

When：
  - 用户点击"-"按钮，将数量减为0

Then：
  - 系统提示"数量不能为0，是否删除该商品？"
  - 或系统直接删除该商品
  - 根据业务规则决定

### 场景3.3：数量超过库存

Given：
  - 商品库存为5
  - 用户购物车中该商品数量为3

When：
  - 用户尝试将数量修改为10

Then：
  - 系统验证发现10 > 5（库存不足）
  - 系统显示"库存不足，当前库存5"
  - 系统不允许修改，或自动调整为5
  - 系统高亮显示库存信息
```

</details>

---

## 练习5：分析"忘记密码"功能（挑战）

### 题目描述

用户忘记密码后的找回功能。

### 你的任务

分析完整的密码找回流程，包括：
1. 提交找回请求
2. 验证用户身份
3. 发送重置链接
4. 重置密码
5. 各种异常情况

### 提示

考虑以下情况：
- 邮箱未注册
- 邮箱格式错误
- 重置链接过期
- 重置链接被使用过
- 新密码不符合要求
- 新密码和旧密码相同

---

## 练习6：你自己选一个功能

### 任务

找一个你熟悉的功能（可以是任何软件的功能），用实例化需求的方法分析。

**建议选择**：
- 你经常使用的功能
- 功能不太复杂
- 你能清楚理解它的用途

### 分析步骤

1. **明确目标**：这个功能是为了什么？
2. **列出场景**：正常、异常、边界
3. **写例子**：用Given-When-Then格式
4. **整理文档**：形成完整的需求文档

---

## 学习进度跟踪

### 练习完成情况

- [ ] 练习1：计算器功能
- [ ] 练习2：用户登录功能
- [ ] 练习3：商品搜索功能
- [ ] 练习4：购物车功能
- [ ] 练习5：忘记密码功能
- [ ] 练习6：自选功能

### 能力提升记录

**练习1后**：
- 学会了什么：
- 遇到什么问题：
- 如何改进：

**练习2后**：
- 学会了什么：
- 遇到什么问题：
- 如何改进：

**练习3后**：
- 学会了什么：
- 遇到什么问题：
- 如何改进：

---

## 常见错误和避免方法

### 错误1：例子太抽象

❌ **错误示例**：
```
用户输入信息，系统处理，返回结果
```

✅ **正确示例**：
```
用户输入邮箱"test@example.com"，系统验证邮箱格式，返回"验证通过"
```

### 错误2：只写正常情况

❌ **错误做法**：
- 只写用户正确操作的情况

✅ **正确做法**：
- 正常情况 + 异常情况 + 边界情况

### 错误3：前提条件不明确

❌ **错误示例**：
```
Given：用户已登录
```

✅ **正确示例**：
```
Given：
  - 用户"zhangsan"已登录
  - 用户账号状态为"激活"
  - 用户有权限访问该功能
```

### 错误4：结果不可验证

❌ **错误示例**：
```
Then：系统处理成功
```

✅ **正确示例**：
```
Then：
  - 系统显示"操作成功"消息
  - 系统跳转到结果页面
  - 数据库中记录已更新
```

---

## 练习后的反思

完成每个练习后，问自己：

1. **我写的例子清晰吗？**
   - 别人能看懂吗？
   - 有歧义吗？

2. **场景覆盖完整吗？**
   - 正常情况有了吗？
   - 异常情况考虑了吗？
   - 边界情况想到了吗？

3. **可以改进吗？**
   - 例子可以更具体吗？
   - 可以增加更多场景吗？
   - 格式可以更规范吗？

4. **学到了什么？**
   - 这次练习的收获是什么？
   - 有什么新的发现？
   - 如何应用到实际工作？

---

## 下一步

完成所有练习后：

1. ✅ 你已经掌握了基础的需求分析方法
2. ✅ 你能够独立分析简单到中等复杂的功能
3. ✅ 你理解了实例化需求的价值

**接下来**：
- 在实际项目中应用
- 学习更高级的技巧（关键过程模式）
- 学习识别需求问题
- 与团队协作，提升沟通能力

**记住**：实践是最好的老师！🎯

---

**需要帮助？**
- 参考：[新手教程](./新手教程-从零开始.md)
- 参考：[实践案例](./实践案例/)
- 提问：找有经验的同事或导师




